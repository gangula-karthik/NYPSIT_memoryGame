<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>memory cards</title>
</head>

<style>
    #game-board {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(4, 1fr);
        gap: 10px; /* Adjust this to add space between cards */
        padding-top: 10px;
    }


    .card-back, .card-front {
        position: absolute;
        width: 100%;
        height: 100%;
    }

    .card {
        /* Your existing styles here */
        perspective: 1000px; /* This gives the flip a 3D effect */
        cursor: pointer;
        border: 1px solid black;
        border-radius: 5px;
        height: 12em;
        position: relative;
    }

    .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
    }

    .card-back, .card-front {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden; /* Hide the side facing away from the viewer */
    }


    .card-front {
        transform: rotateY(180deg); /* Rotate the front of the card so it starts out hidden */
        /* Style the front of the card here */
    }

    .card.flipped .card-inner {
        transform: rotateY(180deg);
    }

    .card.matched {
        background-color: rgb(0, 255, 0); /* Or whatever style you want for matched cards */
        cursor: default;
    }


</style>

<body>
    <p id="timer">Time remaining: 60 seconds</p>

    <div id="game-board">
        {% for card in cards %}
        <div class="card" data-match="{{ card.match }}" data-text="{{ card.title }}" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="card-back">
                    <h1 style="font-size: 75px;text-align: center;">ðŸ‡¸ðŸ‡¬</h1>
                </div>
                <div class="card-front">
                    <img src="{{ card.image }}" alt="{{ card.title }}">
                    <p>{{ card.title }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    

    <script>
        function revealCard(card) {
            const front = card.querySelector('.card-front');
            const back = card.querySelector('.card-back');

            front.style.display = 'block';
            back.style.display = 'none';
        }


        let selectedCards = [];

        function flipCard(card) {
            if (card.classList.contains('matched') || selectedCards.length >= 2) {
                return;
            }

            card.classList.toggle('flipped');

            if (card.classList.contains('flipped')) {
                selectedCards.push(card);
            } else {
                selectedCards = selectedCards.filter(c => c !== card);
            }

            if (selectedCards.length === 2) {
                const match1 = selectedCards[0].getAttribute('data-match');
                const match2 = selectedCards[1].getAttribute('data-match');

                if (match1 === match2) {
                    selectedCards.forEach(c => {
                        c.classList.add('matched');
                        c.classList.remove('flipped');
                    });
                    selectedCards = [];
                } else {
                    setTimeout(() => {
                        selectedCards.forEach(c => {
                            c.classList.remove('flipped');
                        });
                        selectedCards = [];
                    }, 1000);
                }
            }
        }

        let timeRemaining = 60; 


        let timerInterval = setInterval(() => {
            timeRemaining--;

            document.getElementById('timer').textContent = `Time remaining: ${timeRemaining} seconds`;


            if (timeRemaining <= 0) {
                clearInterval(timerInterval); 
                alert('Time is up!');
            }
        }, 1000);



    </script>
    
</body>
</html>